---
title: "Kickstarter Analysis"
subtitle: "11/20/2020"
author: "The Laureates: Farzeen Najam, Olivia Olsher, Vincent Liu, Emile Therrien"
output: pdf_document
---

# Introduction
Have you ever had an ambitious idea but did not have resources to pursue it? Kickstarter is a crowdfunding platform for creators who need support for their projects. Since launching in 2009, 19 million people have pledged to back up projects, and nearly 190,000 projects have been successfully funded.
 
However, many more projects failed to reach their goals, and our group is interested in analyzing what made projects succeed and fail. The dataset [Kickstarter Projects](https://www.kaggle.com/kemical/kickstarter-projects) comes from Kaggle, which contains Kickstarter projects up until January 2018.
 
We will be exploring which variables influence the success of a Kickstarter project by observing which types of projects are more likely to be funded. Our questions include:

* Does the amount of money a creator asks for influence it’s chance of success?
* Does the category of project influence it’s chance of success?

Our hypotheses include:

* The more money the project asks for, the less successful it will be in terms of getting funding.
* The project category is associated with the success rate.

The goal of the project is to give future Kickstarter creators insight into which projects failed and succeeded. This will give them the tools to perform better against their competition, by giving estimates for what has and has not worked based on this historical dataset. Modelling which categories will be most successful best will give creators insight into predicted category success, assuming that there exists a relationship between project categories and success rates.

# Data Description

```{r file-glimpse, eval=TRUE, warning=FALSE, message=FALSE, echo=FALSE}
library(tidyverse)
library(broom)

kickstarter <- read_csv("data/ks-projects-201801.csv")
glimpse(kickstarter)
```

This data set contains 15 variables and 378,661 observations, where each observation is one kickstarter project.

The categorical variables include the name of each project, the category of each project (music, narrative film, restaurant, etc.), a broader category of each (food, film, publishing, etc.), the crowdsourcing currency, the state of each project (failed, successful, or cancelled), and the country of origin for each project.

The numerical data are the project’s ID number, the monetary goal for each, the money pledged to each project, how many backers of each project; there are three numerical variables that are not self-explanatory, usd_pledged: conversion in US dollars of the pledged column (conversion done by kickstarter), usd_pledge_real: conversion in US dollars of the pledged column (conversion from Fixer.io API), and usd_goal_real: conversion in US dollars of the goal column (conversion from Fixer.io API).

There are also two date columns, one for the project launch and the other for the crowdsourcing deadline.

The data were collected from Kickstarter Platform likely using web scraping methods on their own site, to be used by data scientists to model whether or not a project will be successful or not when it is launched.

# Explorative Data Analysis

## Overview of project state

```{r state-analysis, warning=FALSE, message=FALSE, echo=FALSE}
kickstarter_state_count <- kickstarter %>%
  group_by(state) %>%
  count() %>%
  arrange(desc(n))

ggplot(data = kickstarter_state_count,
       aes(x=reorder(state, -n), y=n, fill=state)) +
  geom_bar(stat = "identity") +
  labs(x = "Project State",
       y = "Count",
       title = "Distribution of project states",
       subtitle = "More projects failed than those that succeeded") +
  scale_fill_viridis_d() +
  theme_bw() +
  theme(legend.position = "none")

kickstarter_success_rate = kickstarter %>%
  filter(state == "successful") %>%
  summarize("project success rate" = n()/nrow(kickstarter))

kickstarter_state_count
kickstarter_success_rate
```

## Overview of pledged and goal amount in USD:

```{r pledged-and-goal-overview, echo=FALSE,warning=FALSE, message=FALSE, echo=FALSE}
overview_usd_pledged_real <- kickstarter %>%
  summarize(mean = mean(usd_pledged_real),
            median = median(usd_pledged_real),
            sd = sd(usd_pledged_real)) %>% 
  mutate(type = "pledged")

overview_usd_goal_real <- kickstarter %>%
  summarize(
    mean = mean(usd_goal_real),
    median = median(usd_goal_real),
    sd = sd(usd_goal_real))%>% 
  mutate(type = "goal")

overview_usd_pledged_real
overview_usd_goal_real

pledged_goals <- full_join(overview_usd_pledged_real, overview_usd_goal_real,
                          by = NULL)

ggplot(data = pledged_goals,
       aes(x = type, y = mean, fill = type)) +
  geom_col() +
  labs(title = "Mean Amount of Goal vs. Pledged Amount",
       subtitle = "Pledged amount is usually much less than the goal amount") +
  theme_bw() + 
  theme(legend.position = "none") +
  scale_fill_viridis_d()
```

# Methodology

In this analysis, we conducted two central limit thereom (CLT)-based tests. Due to the sheer size of this dataset, using a simulation based method for analysis is not appropriate. We removed all projects that were "live" and currently asking for funding, so that any discrepencies seen would be negated. If we had included "Live" projects, each project category may not have been representative of the population and project goal amounts may be skewed. Thereforein the first section of the analysis, we overwrote the Kickstarter dataframe with observations that are not "Live". To analyze success, rather than using the given variable "success", we created our own. The original variable "success" contained cancelled, suspended, and undefined states along with successful and failed states. We had no indication if those projects that were cancelled, suspended, or undefined met their goals and cancelled prematurely or if they cancelled due to no funding at all. To get around this, we created a variable for success that was a ratio of the project's funding raised over their original funding goal. If the funding raised was greater than the funding asked for, the project was successful; if the project goal was greater than the raised funds, the Kickstarter funding was unsuccessful.

To begin our analysis after removing "Live" projects, we assessed whether there is a relationship between the amount of money a creator asks for and its success. We categorized projects by tiers, on a scale of 1-7, with Tier 1 asking for the least amount of funding and Tier 7 the most. We grouped Tiers 1-4 and 5-7 together when we ran our CLT-based test, placing the lower and higher groups in the same category when running a t-test. It would make intuitive sense if the projects that require less funding they will be more successful. These projects that ask for less funding should require a lower volume of money funded and meet their goal and on average meet more of their goals before project funding deadlines. Furthermore, we believed that these projects would require less backers donating money, assuming each backer donates an equal amount, and thus be dependent on a lower amount of people for funding.

After establishing a relationship between project success and the intial funding goal, we used a CLT-based test to determine if there was a relationship between project categories and their success. We used the variable "main_category" instead of "category" because the latter was far too specific for our purposes. "Main_category" was composed of 15 distinct categories, each for a unique industry. We felt that 15 categories allowed our analyss to be broader and therefore each could encompass many more projects as not to pigeon hole a creator when using our analysis for their purposes. There may be possible crossover between main categories that we were unable to screen for, however, but we assumed this to be a neglible amount of projects, if it existed at all, and thus continued with "main_category" over "category" for analysis.

Following these analyses, we modelled each project's log-odds of success based on "main_category". Success here was a boolean value, with 1 representing successful funding and 0 representing unsuccessful funding. This model enables future creators to think about their project in the larger scheme of a category and base their opinions off these values. Technology was used as the reference level for our model, so each value is based off success relative to the technology category. We used a proportionality level of 0.50 to determine if a project category was worth pursuing. A level greater than 0.50 meant that the category was predicted to have more successful projects than unsuccessful ones.

# Data Analysis

As explained in the Methodology section, we first need to overwrite the initial kickstarter dataframe with projects that are not "Live":

```{r exclude-ongoing-projects,warning=FALSE, message=FALSE, echo=FALSE}
# Exclude ongoing projects
kickstarter <- kickstarter %>%
  filter(state != "live")
```

## Project Goal Amount and Success

In the Explorative Data Analysis section, the first visualization gave an overview of project states, and the second revealed the large difference between the amount of money aimed and raised. However, from those two plots, we couldn't see the goal and pledge amount of each successful and failed projects, neither could we know the whether there is a relationship between the goal and pledge amount. Therefore, we decided to examine the association between projects' success and its goal amount. To do so, we first came up with a claim that states our assumed association.

*Claim*: The more money the project asks for (project goal), the less successful it will be in terms of getting funding.

In order to perform a hypothesis testing on this claim, we need to quantify the goal amount into only a few levels rather than using the original discrete data (amount in USD). Otherwise, sample tests wouldn't work well because of too many data points. We first tried using quantile functions in R, which resulted even numbers of projects in each tier. However, that should not be the intended result, because if the goal amount roughly follows a normal distribution, then a few tiers in the middle would have similar goal amount, which would make the result with sample test less effective. Therefore, we decided to categorize the goal amount using the following metric and to create new variable named usd_goal_real_tier to classify usd_goal_real into tiers:

```{r mutate-goal-tiers,warning=FALSE, message=FALSE, echo=FALSE}
# perhaps need a better way to categorize values in this column
kickstarter <- kickstarter %>%
  mutate(usd_goal_real_tier = case_when(
    usd_goal_real < 1000 ~ 1,
    usd_goal_real >= 1000 & usd_goal_real < 5000 ~ 2,
    usd_goal_real >= 5000 & usd_goal_real < 10000 ~ 3,
    usd_goal_real >= 10000 & usd_goal_real < 20000 ~ 4,
    usd_goal_real >= 20000 & usd_goal_real < 100000 ~ 5,
    usd_goal_real >= 100000 & usd_goal_real < 500000 ~ 6,
    usd_goal_real >= 500000 ~ 7,
  ))

chart<- kickstarter %>%
  group_by(usd_goal_real_tier) %>%
  summarize(numbers = n())

chart

ggplot(data = chart,
       mapping = aes(x = factor(usd_goal_real_tier),
                     y = numbers,
                     fill = as.factor(usd_goal_real_tier))) +
  geom_col() +
  scale_fill_viridis_d()+
  labs(title = "Tier 2 has the most amount of projects",
       x = "Tier number", y = "Count of projects") +
  theme_minimal() + 
  theme(legend.position = "none")
```

Then, we created a new binary variable named success_state to represent whether a project was successful or not. If a project is not successful ("failed", "undefined", "suspended", or "canceled"), then it could carry a value of 0. Creating this binary variable gets rid of unnecessary project states so that we could focus only on successful projects.

```{r mutate-success-state,warning=FALSE, message=FALSE, echo=FALSE}
kickstarter <- kickstarter %>%
  mutate(success_state = if_else(state == "successful", 1, 0))
```

**Farzeen TODO**:

* Add a transition sentence to lead into hypothesis testing.
* “proportion of people who successful with low money goal." was initially difficult to follow/understand exactly what you are trying to test.
* in the analysis paragraphs following the tests, including the actual p-value found and the alpha level it was tested against is information that is necessary. This was present in some tests, but was missing in the project goal amount and success section. As an example of how this specifically could be improved, in the project goal amount and success section, you may wish to support your claim of “our p-value is less than our alpha value” with the actual p-value you calculate and the alpha value you are testing in. Additionally, when there is sufficient evidence to reject the null hypothesis, make a statement about how this means there is sufficient evidence to claim that the alternative is true. This sentence will help bridge the two conclusions made. In the analysis for the project category and success section, it may be clearer to use a word other than “main category” in the hypothesis test conclusion (i.e. say project of category or something more specific in the context of the research than simply what the variable is named in the dataset).
* Each bootstrap analysis is only performed with the number of simulations being set to 500. However, the more simulations there are, the more accurate the prediction of the relationship in the data will be. Therefore, any simulation-based methods used to evaluate hypotheses of interest should be set to at least 1000 simulations, instead.
* explain why you chose certain variables and how you then incorporated those into your hypo test
* express the hypotheses in notation and then explain the notation's meaning.
* What's the purpose of having kick2? You did not seem to use it anywhere. Also, please use meaningful variable names so that the code is more readable

*Hypotheses*:

$H_0$: $p({less-money})$ $\le$ $p({more-money})$
$H_1$: $p({less-money})$ > $p({more-money})$

$H_0$:proportion of people who successful with low money goal - proportion of people who successful with high money <= 0
$H_1$: proportion of people who successful with low money goal - proportion of people who successful with high money > 0 

$\alpha$ = 0.05

```{r money-eval,warning=FALSE, message=FALSE, echo=FALSE}
set.seed(1)
kick1 <- kickstarter %>% 
  filter(usd_goal_real_tier == 6 | usd_goal_real_tier == 5 | 
           usd_goal_real_tier == 7)

kick2 <- kickstarter %>% 
  filter(usd_goal_real_tier == 1 | usd_goal_real_tier == 2 | 
        usd_goal_real_tier == 3 | usd_goal_real_tier == 4)
     
t.test(kick1$usd_goal_real_tier, mu = 0, alternative = "greater", conf.level = 0.95)
```

**Farzeen TODO**:

* State the p-value and alpha value explicitly here.
* Currently the statement is repeatitive because you said twice "we reject our null hypothesis that". 

Since our p-value is less than our alpha value, we reject our null hypothesis that the difference in the proportion of projects with less money as goal and proportion of projects with more money as goal is less than or equal to 0. This means we reject the null hypothesis that success rate for projects with bigger money is equal or higher than projects with lower money.

## Project Category and Success

*Question*: Does the category of project influence it’s chance of success?

**TODO**

* limitations: possible crossover in the main_categories that we cannot screen
for

```{r category-success,warning=FALSE, message=FALSE, echo=FALSE}
kickstater_success_ratios <- kickstarter %>% 
  group_by(main_category, success_state) %>% 
  count(success_state) %>% 
  group_by(main_category) %>% 
  mutate(
    prop = n/sum(n),
    plot_success = case_when(
      success_state == 1 ~ "Success",
      success_state == 0 ~ "Others"
    )
  )

kickstater_success_ratios

ggplot(data = kickstater_success_ratios,
       aes(x = plot_success, y = prop, fill = main_category)) +
  ylim(0, 1) +
  facet_wrap(. ~ main_category) +
  geom_col() +
  theme(legend.position = "none") +
  labs(x = "Success state",
       y = "Proportion",
       title = "Successful vs. Other Projects, grouped by category",
       subtitle = "Success ratio of Comics, Dance, Music, and Theater categories > 1")+
  scale_fill_viridis_d()+
  theme_minimal() + 
  theme(legend.position = "none")
```

main_category vs. success

$H_0$: There is no relationship between main_category and success.

$H_1$: There is a relationship between main_category and success. 

Where the $alpha/$ = 0.05

```{r chi-square-main_category,warning=FALSE, message=FALSE, echo=FALSE}
chisq.test(table(kickstarter$main_category, 
                 kickstarter$success_state))
```

**TODO**:

* state the p-value here
* describe and justify why you ran a chi-squared test and what information this test will provide you in context of supporting your larger question/hypotheses. There could also be greater explanation of the individual steps you took before completing the overall chi-squared test
* when there is sufficient evidence to reject the null hypothesis, make a statement about how this means there is sufficient evidence to claim that the alternative is true. This sentence will help bridge the two conclusions made. In the analysis for the project category and success section, it may be clearer to use a word other than “main category” in the hypothesis test conclusion (i.e. say project of category or something more specific in the context of the research than simply what the variable is named in the dataset). 
* Interpretation of chi-square test could follow a format like this: "Our test statistic was 19624, which has a chi-square distribution with 6 degree of freedom under $H_0$. This corresponds to a p-value less than 2.2e-16. So our decision is to reject $H_0$, and there is sufficient evidence that there is a relationship between a project's monetary goal and a project's state of success."

Given that the p-value is less than $alpha/$ = 0.05, we can reject the null hypothesis. Thus, there is sufficient evidence to suggest that there is a relationship between main category and success.



## Project Goal Amount and Pledge Amount

Here we used a linear model to model success based on main category. Specifically, we wanted to see how the project's main category leads to differences in the odds of success.

We used Technology as our reference level.

```{r models,warning=FALSE, message=FALSE, echo=FALSE}
kickstarter$main_category <- factor(
  kickstarter$main_category, 
  levels = c("Technology", 
             "Art", 
             "Comics", 
             "Crafts",
             "Dance", 
             "Design", 
             "Fashion",
             "Film & Video",
             "Food", 
             "Games", 
             "Journalism", 
             "Music",
             "Photography",
             "Publishing",
             "Theater")
  )

# glm model for success based on main cat
success_mod = glm(success_state ~ main_category,
                  data = kickstarter, family = "binomial")

tidy(success_mod) %>% 
  select(term, estimate)
```

Relative to Technology, the most likely funded project category is Dance. The odds of success for Dance are 6.374285 times the odds of success for Technology. Furthermore, all else being equal, the estimated probability of success for the Dance category is 0.62, whereas for Technology the probability of success is 0.21. There is sufficient evidence based on our model to suggest that Dance may be the most readily successful project type and is likely worth spending time looking into this category for project creators.

# Discussion

**TODO**: Furthermore, the entire discussion section is missing, as there is no overall summary of what all of the hypothesis tests have shown in the context of the research question, along with the specific p-values that support these conclusions. To make your results and conclusions stronger, you should also critique your own methods and provide suggestions for improving your analysis, as showing possible faults in reliability and validity of your data and the appropriateness of the statistical analyses helps support your positions as researchers and knowledge of the data. To add onto conclusions that you write, you should also discuss what you would do next if you were going to continue work on the project to show where your analyses could have gone farther.
